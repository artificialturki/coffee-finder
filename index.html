<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Coffee Finder Pro â˜• â€” KSA</title>
<meta name="description" content="Find cafÃ©s across Saudi Arabia. Arabic + English, autocomplete, sci-fi effects, fullscreen, ratings." />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.8em' font-size='80'>â˜•</text></svg>'">

<!-- CSS libs -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
<link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet">
<link href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" rel="stylesheet">
<link href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" rel="stylesheet">

<!-- App CSS -->
<link href="styles.css" rel="stylesheet">
</head>
<body>
<!-- sci-fi parallax stars -->
<div class="stars" id="stars1"></div>
<div class="stars2" id="stars2"></div>

<header class="py-3">
  <div class="container d-flex align-items-center justify-content-between flex-wrap">
    <div class="brand">
      <i id="homeBtn" class="fa-solid fa-mug-saucer" title="Home"></i>
      <span id="brandText">Coffee Finder Pro</span>
      <span class="ms-2 small ksa-pill">KSA</span>
    </div>
    <div class="d-flex gap-2 flex-wrap">
      <select id="lang" class="form-select form-select-sm bg-dark text-light border-secondary" aria-label="Language">
        <option value="en" selected>English</option>
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      </select>
    </div>
  </div>
</header>

<main class="container my-3">
  <!-- Search / filters -->
  <section class="p-3 panel">
    <div class="row g-2 align-items-stretch position-relative">
      <div class="col-lg-9 position-relative">
        <div class="chip-input">
          <i class="fa-solid fa-magnifying-glass text-success"></i>
          <input id="query" placeholder="Enter city in Saudi Arabia (e.g., Riyadh, Jeddah, Dammam, Abha)" aria-label="Search for a city">
          <button id="btnSearch" class="btn btn-mint" data-i18n="find"><i class="fa-solid fa-search me-1"></i>Find</button>
        </div>
        <div id="suggestions" class="suggest panel" role="listbox" aria-label="Suggestions"></div>
      </div>

      <div class="col-6 col-lg-2">
        <select id="radius" class="form-select bg-dark text-light border-secondary" aria-label="Search radius">
          <option value="3000">3 km</option>
          <option value="5000" selected>5 km</option>
          <option value="10000">10 km</option>
          <option value="20000">20 km</option>
          <option value="50000">50 km</option>
        </select>
      </div>

      <div class="col-6 col-lg-1 d-flex gap-2 flex-wrap">
        <div class="chip form-check">
          <input id="fOpen" class="form-check-input me-1" type="checkbox">
          <label class="form-check-label" for="fOpen" data-i18n="open">Open</label>
        </div>
      </div>

      <div class="col-6 col-lg-0 d-flex gap-2 flex-wrap">
        <div class="chip form-check">
          <input id="fWifi" class="form-check-input me-1" type="checkbox">
          <label class="form-check-label" for="fWifi" data-i18n="wifi">Wi-Fi</label>
        </div>
      </div>

      <div class="col-6 col-lg-0 d-flex gap-2 flex-wrap">
        <div class="chip form-check">
          <input id="fOutdoor" class="form-check-input me-1" type="checkbox">
          <label class="form-check-label" for="fOutdoor" data-i18n="outdoor">Outdoor</label>
        </div>
      </div>
    </div>

    <div class="mt-2 d-flex align-items-center gap-3 flex-wrap">
      <div class="d-flex align-items-center gap-2">
        <span class="small text-secondary" data-i18n="minRating">Min rating</span>
        <input id="minRating" type="range" min="0" max="5" step="0.5" value="0" aria-label="Minimum rating">
        <span id="minRatingVal" class="small">0.0</span>
      </div>
      <div class="ms-auto small" id="kpi">Ready</div>
    </div>
  </section>

  <!-- Map + Results -->
  <section class="position-relative mt-3">
    <div class="row g-3">
      <div class="col-lg-8 position-relative">
        <div id="map" aria-label="Map of cafÃ©s"></div>

        <!-- floating map buttons -->
        <div class="map-float">
          <button id="btnFullscreen" class="float-btn" title="Fullscreen" aria-label="Toggle fullscreen map"><i class="fa-solid fa-maximize"></i></button>
          <button id="btnSearchHere" class="float-btn" title="Search this area" aria-label="Search this area"><i class="fa-solid fa-bullseye"></i></button>
          <button id="btnLocate" class="float-btn" title="Locate me" aria-label="Use my current location"><i class="fa-solid fa-location-arrow"></i></button>
          <button id="btnTour" class="float-btn" title="Tour" aria-label="Guided tour"><i class="fa-solid fa-person-walking"></i></button>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <div class="h5 m-0"><i class="fa-solid fa-list me-2"></i><span id="resTitle">Results</span></div>
          <select id="sort" class="form-select form-select-sm bg-dark text-light border-secondary" aria-label="Sort"></select>
        </div>

        <div class="loader" id="loader">
          <div class="coffee-loader"><div></div><div></div><div></div></div>
          <div class="mt-2" id="loadingTxt">Searching cafÃ©sâ€¦</div>
        </div>

        <div id="results" class="results"></div>
        <div id="nores" class="text-center text-secondary py-4 d-none">
          <i class="fa-regular fa-face-sad-tear fa-2x mb-2"></i>
          <div id="noresTxt">No cafÃ©s found. Try another area.</div>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="py-4 mt-4">
  <div class="container small text-center">
    Â© <span id="yr"></span> Coffee Finder Pro â€” KSA Â· Tiles Â© OpenStreetMap contributors Â· Data: Overpass/Photon/Nominatim Â· <span data-i18n="privacy">Privacy</span> Â· <span data-i18n="disclaimer">Disclaimer</span> Â· <span data-i18n="love">Made with love</span> ðŸ‡¸ðŸ‡¦
  </div>
</footer>

<!-- Exit fullscreen (visible on mobile too) -->
<div id="exitFS" class="exit-fs"><button class="btn btn-sm btn-mint" id="exitFsBtn"><i class="fa-solid fa-minimize me-1"></i><span data-i18n="exitFS">Exit Fullscreen</span></button></div>

<!-- Toast container -->
<div class="toast-container" aria-live="polite" aria-atomic="true"></div>

<!-- JS libs -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

<!-- App JS -->
<script defer src="app.js"></script>
</body>
</html>
