<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Coffee Finder Pro ☕️</title>
<meta name="description" content="Coffee Finder Pro — Find cafés in Saudi Arabia & UAE with map, filters, effects, and premium features." />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.8em' font-size='80'>☕</text></svg>">

<!-- مكتبات -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
<link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet">
<link href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" rel="stylesheet">

<style>
:root{
  --primary:#0b1411;--accent:#39eba1;--bg:#0f2a20;--text:#f5fff9;
}
[data-theme="light"]{--primary:#ffffff;--accent:#007bff;--bg:#f9f9f9;--text:#222;}
[data-theme="neon"]{--primary:#000;--accent:#ff00ff;--bg:#111;--text:#0ff;}

body{background:var(--primary);color:var(--text);font-family:"Cairo",sans-serif;overflow-x:hidden;}
header{background:var(--bg);padding:.8rem;border-bottom:2px solid var(--accent);}
.brand{font-weight:900;font-size:1.8rem;color:var(--accent);cursor:pointer;text-shadow:0 0 10px var(--accent);}
.btn-theme{margin-left:10px;padding:6px 12px;border-radius:8px;background:var(--accent);border:0;color:#000;cursor:pointer;}

#map{height:60vh;border-radius:12px;margin-top:1rem;}
.map-cup{position:relative;width:28px;height:20px;border-radius:6px;background:#6d4c41;border:2px solid #3e2723;}
.map-cup:after{content:'';position:absolute;top:-6px;left:4px;width:20px;height:6px;border-radius:6px 6px 0 0;background:#fff;}
.steam{position:absolute;top:-12px;left:12px;width:4px;height:12px;background:linear-gradient(to top,rgba(255,255,255,.7),transparent);animation:steamUp 2s infinite ease-in-out;}
@keyframes steamUp{0%{opacity:0;transform:translateY(5px);}50%{opacity:1;}100%{opacity:0;transform:translateY(-10px);}}

/* نتائج */
.results{max-height:50vh;overflow:auto;}
.card-cafe{background:var(--bg);border:1px solid var(--accent);border-radius:12px;padding:1rem;margin:.5rem 0;}
.star i{color:gold;}
footer{text-align:center;padding:1rem;font-size:.8rem;color:var(--text);}
.subscribe{background:var(--accent);color:#000;padding:.6rem 1rem;border-radius:20px;font-weight:bold;margin:1rem auto;display:inline-block;cursor:pointer;}

/* أيقونات تحميل */
.apps{margin-top:1rem;display:flex;gap:1rem;justify-content:center;}
.apps img{height:40px;filter:grayscale(1);opacity:.7;}
</style>
</head>
<body>

<header class="d-flex justify-content-between align-items-center">
  <div class="brand">Coffee Finder Pro</div>
  <div>
    <select id="lang" class="form-select form-select-sm d-inline-block" style="width:auto;">
      <option value="ar">العربية</option>
      <option value="en">English</option>
      <option value="fr">Français</option>
      <option value="es">Español</option>
    </select>
    <select id="country" class="form-select form-select-sm d-inline-block" style="width:auto;">
      <option value="sa">🇸🇦 Saudi Arabia</option>
      <option value="ae">🇦🇪 UAE</option>
    </select>
    <button class="btn-theme" id="themeBtn"><i class="fa-solid fa-palette"></i></button>
  </div>
</header>

<main class="container my-3">
  <div class="d-flex gap-2">
    <input id="query" class="form-control" placeholder="ابحث عن مدينة (حتى 50 كم)">
    <button id="searchBtn" class="btn btn-success"><i class="fa fa-search"></i></button>
  </div>

  <div id="map"></div>
  <div class="apps">
    <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Available_on_the_App_Store_%28black%29_SVG.svg" alt="App Store">
    <img src="https://upload.wikimedia.org/wikipedia/commons/c/cd/Get_it_on_Google_play.svg" alt="Google Play">
  </div>

  <div class="subscribe">Subscribe Now ⭐</div>

  <h4 class="mt-4">النتائج:</h4>
  <div class="results" id="results"></div>
</main>

<footer>© 2025 Coffee Finder Pro — KSA & UAE</footer>

<audio id="clickSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
<script>
const map=L.map('map').setView([24.7136,46.6753],6);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; OpenStreetMap'}).addTo(map);
const markers=L.markerClusterGroup().addTo(map);

function addCafe(lat,lng,name,rating){
  const cupIcon=L.divIcon({className:'',html:'<div class="map-cup"><div class="steam"></div></div>',iconSize:[30,30],iconAnchor:[15,15]});
  const m=L.marker([lat,lng],{icon:cupIcon}).bindPopup(`<b>${name}</b><br>⭐ ${rating}`);
  markers.addLayer(m);
  document.getElementById("results").innerHTML+=
    `<div class="card-cafe"><div><strong>${name}</strong></div>
    <div class="star">${"★".repeat(rating)}${"☆".repeat(5-rating)}</div></div>`;
}

// بيانات تجريبية
addCafe(24.7136,46.6753,"Starbucks Riyadh",5);
addCafe(25.2048,55.2708,"Costa Dubai",4);

document.getElementById("searchBtn").onclick=()=>playClick();
document.getElementById("themeBtn").onclick=()=>{toggleTheme();playClick();};
function playClick(){document.getElementById("clickSound").play();}

let themeIndex=0,themes=["","light","neon"];
function toggleTheme(){themeIndex=(themeIndex+1)%themes.length;document.body.setAttribute("data-theme",themes[themeIndex]);}
</script>
</body>
</html>
